{"version":3,"sources":["components/shared-components/AvatarStatus/index.js","views/app-views/main/clients/client-list/index.js"],"names":["renderAvatar","props","_jsx","Avatar","className","type","children","text","AvatarStatus","name","suffix","subTitle","id","src","icon","size","shape","gap","onNameClick","_jsxs","onClick","UserList","Component","constructor","arguments","url","state","users","selectedUser","getUsers","async","response","fetch","this","json","error","console","deleteUser","userId","setState","filter","item","message","success","content","duration","showUserProfile","userInfo","history","push","pathname","closeUserProfile","componentDidMount","render","tableColumns","title","dataIndex","_","record","img","email","sorter","a","b","utils","antdTableSorter","normalizePhoneNumber","phone","replace","Number","elm","_Fragment","company","Tooltip","Button","EyeOutlined","danger","DeleteOutlined","Card","bodyStyle","Table","columns","dataSource","rowKey","withRouter"],"mappings":"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","file":"static/js/31.1b8205f9.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { Avatar } from 'antd';\r\n\r\nconst renderAvatar = props => {\r\n\treturn <Avatar {...props} className={`ant-avatar-${props.type}`}>{props.text}</Avatar>;\r\n}\r\n\r\nexport const AvatarStatus = props => {\r\n\tconst { name, suffix, subTitle, id, type, src, icon, size, shape, gap, text, onNameClick } = props\r\n\treturn (\r\n\t\t<div className=\"avatar-status d-flex align-items-center\">\r\n\t\t\t{ src && renderAvatar({icon, src, type, size, shape, gap, text })}\r\n\t\t\t<div className=\"ml-2\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tonNameClick ? \r\n\t\t\t\t\t\t<div onClick={() => onNameClick({name, subTitle, src, id})} className=\"avatar-status-name clickable\">{name}</div> \r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<div className=\"avatar-status-name\">{name}</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<span>{suffix}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"text-muted avatar-status-subtitle\">{subTitle}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAvatarStatus.propTypes = {\r\n\tname: PropTypes.string,\r\n\tsrc: PropTypes.string,\r\n\ttype: PropTypes.string,\r\n\tonNameClick: PropTypes.func\r\n}\r\n\r\n\r\nexport default AvatarStatus;\r\n","import React, { Component } from 'react'\r\nimport { Card, Table, Tooltip, message, Button } from 'antd';\r\nimport { EyeOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport AvatarStatus from 'components/shared-components/AvatarStatus';\r\nimport utils from 'utils';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nexport class UserList extends Component {\r\n\r\n\turl = \"https://jsonplaceholder.typicode.com/users\";\r\n\r\n\tstate = {\r\n\t\tusers: [],\r\n\t\tselectedUser: null\r\n\t}\r\n\r\n\tasync componentDidMount() {\r\n\t\tconst users = await this.getUsers();\r\n\t\tthis.setState({ users });\r\n\t}\r\n\r\n\tgetUsers = async () => {\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(this.url);\r\n\t\t\tconst users = await response.json();\r\n\t\t\treturn users;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Ошибка загрузки пользователей:\", error);\r\n      \t\treturn [];\r\n\t\t}\r\n\t}\r\n\r\n\tdeleteUser = userId => {\r\n\t\tthis.setState({\r\n\t\t\tusers: this.state.users.filter(item => item.id !== userId),\r\n\t\t})\r\n\t\tmessage.success({ content: `Deleted user ${userId}`, duration: 2 });\r\n\t}\r\n\r\n\tshowUserProfile = userInfo => {\r\n\t\tthis.setState({ selectedUser: userInfo});\r\n\t\t\r\n\t\tthis.props.history.push({\r\n\t\t\tpathname: `/app/main/clients/setting/${userInfo.id}`,\r\n\t\t\tstate: { selectedUser: userInfo },\r\n\t\t});\r\n\t};\r\n\t\r\n\tcloseUserProfile = () => {\r\n\t\tthis.setState({\r\n\t\t\tselectedUser: null\r\n    \t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { users } = this.state;\r\n\r\n\t\tconst tableColumns = [\r\n\t\t\t{\r\n\t\t\t\ttitle: 'User',\r\n\t\t\t\tdataIndex: 'name',\r\n\t\t\t\trender: (_, record) => (\r\n\t\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t\t<AvatarStatus src={record.img} name={record.name} subTitle={record.email}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t),\r\n\t\t\t\tsorter: (a, b) => utils.antdTableSorter(a, b, 'name')\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Username',\r\n\t\t\t\tdataIndex: 'username',\r\n\t\t\t\tsorter: (a, b) => utils.antdTableSorter(a, b, 'username')\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Phone',\r\n\t\t\t\tdataIndex: 'phone',\r\n\t\t\t\tsorter: (a, b) => {\r\n\t\t\t\t\tconst normalizePhoneNumber = phone => phone.replace(/\\D+/g, '');\r\n\t\t\t\t\treturn Number(normalizePhoneNumber(a.phone) - Number(normalizePhoneNumber(b.phone)));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Company',\r\n\t\t\t\tdataIndex: 'company',\r\n\t\t\t\trender: (_, elm) => (\r\n\t\t\t\t\t<>{elm.company.name}</>\r\n\t\t\t\t),\r\n\t\t\t\tsorter: (a, b) => utils.antdTableSorter(a.company, b.company, 'name')\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tdataIndex: 'actions',\r\n\t\t\t\trender: (_, elm) => (\r\n\t\t\t\t\t<div className=\"text-right\">\r\n\t\t\t\t\t\t<Tooltip title=\"View\">\r\n\t\t\t\t\t\t\t<Button type=\"primary\" className=\"mr-2\" icon={<EyeOutlined />} onClick={() => {this.showUserProfile(elm)}} size=\"small\"/>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t<Tooltip title=\"Delete\">\r\n\t\t\t\t\t\t\t<Button danger icon={<DeleteOutlined />} onClick={()=> {this.deleteUser(elm.id)}} size=\"small\"/>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t];\r\n\r\n\t\treturn (\r\n\t\t\t<Card bodyStyle={{'padding': '0px'}}>\r\n\t\t\t\t<Table columns={tableColumns} dataSource={users} rowKey='id' />\r\n\t\t\t</Card>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(UserList);\r\n"],"sourceRoot":""}